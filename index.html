<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NEET UG Focus Series</title>

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&display=swap" rel="stylesheet">

  <style>
    * { box-sizing: border-box; font-family: 'Poppins', sans-serif; }

    body {
      margin: 0;
      min-height: 100vh;
      background: linear-gradient(180deg, #001510, #000000 70%);
      color: #eafff8;
      padding: 40px 15px 180px;
      transition: background 0.4s ease, color 0.4s ease;
    }

    body.exam { background:#000; color:#e5e5e5; }

    nav {
      max-width:1200px; margin:0 auto 40px;
      display:flex; justify-content:space-between; align-items:center;
      padding:18px 28px; border-radius:22px;
      background:rgba(0,255,180,0.08);
    }

    .nav-title { font-weight:800; letter-spacing:2px; color:#00ffb3; }

    .nav-buttons button{
      margin-left:10px; padding:8px 18px; border-radius:999px;
      border:none; cursor:pointer; font-size:0.8rem; font-weight:600;
      background:linear-gradient(135deg,#00ffb3,#00c896); color:#000;
    }

    body.exam .nav-buttons button{ background:#222; color:#fff; }

    .timezone { text-align:center; opacity:0.8; margin-bottom:10px; }

    header{text-align:center; margin-bottom:60px;}
    header h1{font-size:clamp(2.6rem,6vw,4rem); color:#00ffb3; margin:0;}
    header p{max-width:800px; margin:16px auto 0; opacity:0.9;}

    .dashboard{
      max-width:1200px; margin:0 auto 80px;
      display:grid; grid-template-columns:1fr 1fr; gap:40px;
    }

    .card{background:rgba(0,255,180,0.06); border-radius:24px; padding:30px;}
    body.exam .card{background:#111;}

    .progress-bar{height:14px; background:rgba(255,255,255,0.15); border-radius:999px; overflow:hidden; margin-top:14px;}
    .progress-fill{height:100%; width:0%; background:linear-gradient(90deg,#00ffb3,#00c896); transition:width .4s ease;}
    .streak{font-size:2rem; font-weight:800; color:#00ffb3; margin-top:10px;}

    .container{
      max-width:1200px; margin:auto;
      background:rgba(0,255,180,0.05); border-radius:32px;
      padding:50px 40px 80px;
    }

    .day{margin-bottom:34px; padding-bottom:26px; border-bottom:1px solid rgba(0,255,180,0.2);}    
    .day.locked{opacity:0.35;}
    .day h2{color:#00ffb3;}

    .task-input{display:grid; grid-template-columns:1fr auto; gap:16px;}
    .task-input input{
      padding:14px 18px; border-radius:12px; border:none; outline:none;
      background:#001f18; color:#eafff8;
    }

    .task-input button{
      padding:14px 26px; border-radius:999px; border:none;
      font-weight:600; cursor:pointer;
      background:linear-gradient(135deg,#00ffb3,#00c896); color:#000;
    }

    .task-input button:disabled{background:#333;color:#777;cursor:not-allowed;}

    .task-done{text-decoration:line-through; opacity:.85; margin-top:10px;}

    .overlay{
      display:none; position:fixed; inset:0; background:rgba(0,0,0,0.75);
      z-index:1000; align-items:center; justify-content:center;
    }

    .modal{ background:#0f172a; padding:40px; border-radius:26px; max-width:700px; }

    .footer{text-align:center; margin-top:100px; opacity:.85;}
  </style>
</head>
<body>

<nav>
  <div class="nav-title">NEET UG Focus Series</div>
  <div class="nav-buttons">
    <button onclick="toggleExam()">Exam Mode</button>
    <button onclick="openAbout()">About</button>
  </div>
</nav>

<div class="timezone" id="timezone"></div>
<div class="timezone" id="digitalClock"></div>

<header>
  <h1>NEET UG FOCUS SERIES</h1>
  <p>One task per day. Next day unlocks only after completion.</p>
</header>

<section class="dashboard">
  <div class="card">
    <h3>Overall Progress</h3>
    <div class="progress-bar"><div class="progress-fill" id="progressFill"></div></div>
    <div class="streak" id="streak">0 üî•</div>
  </div>
  <div class="card">
    <h3>‚è≥ Countdown to Midnight (IST)</h3>
    <div id="countdown">--:--:--</div>
  </div>
</section>

<section class="dashboard">
  <div class="card" style="grid-column:1/-1;">
    <h3>üß† Mentor Advice</h3>
    <p id="mentorAdvice" style="line-height:1.8;opacity:0.9;"></p>
  </div>
</section>

<section class="dashboard">
  <div class="card">
    <h3>‚è∞ Study Session Timer</h3>
    <div id="studyTimer">00:00:00</div>
    <button onclick="startStudy()">Start</button>
    <button onclick="stopStudy()">Stop</button>
  </div>
  <div class="card">
    <h3>‚åõ Pomodoro</h3>
    <div id="pomodoro">25:00</div>
    <button onclick="startPomodoro()">Start</button>
    <button onclick="resetPomodoro()">Reset</button>
  </div>
</section>

<section class="dashboard">
  <div class="card" style="grid-column:1/-1;">
    <h3>üìä Daily Study-Time Graph</h3>
    <div id="studyGraph" style="display:flex;align-items:flex-end;height:180px;gap:6px;"></div>
  </div>
</section>

<div class="container" id="days"></div>

<div class="footer">Hard work will pay off soon.</div>

<!-- Certificate -->
<div class="container" id="certificate" style="display:none;margin-top:60px;background:linear-gradient(135deg,#ffd36a,#ff9f1c);color:#1a1200;">
  <h2 style="text-align:center;">üéì Certificate of Completion</h2>
  <p style="text-align:center;">This certifies that</p>
  <div style="text-align:center;margin:20px 0;">
    <input id="certName" placeholder="Enter your full name" style="padding:12px 16px;border-radius:10px;border:none;width:60%;" />
  </div>
  <p style="text-align:center;">has successfully completed the <strong>NEET UG Focus Series</strong> with discipline and consistency.</p>
  <p style="text-align:center;margin-top:20px;">‚Äî Mentor</p>
  <div style="text-align:center;margin-top:30px;">
    <button onclick="window.print()" style="padding:12px 24px;border-radius:999px;border:none;font-weight:600;background:#000;color:#ffd36a;">Download Certificate (PDF)</button>
  </div>
</div>

<!-- Reset -->
<div class="container" style="margin-top:60px;text-align:center;">
  <h3>üîÅ Monthly Reset</h3>
  <p style="opacity:0.85;max-width:700px;margin:auto;">
    ‚ö†Ô∏è This will permanently erase all tasks, progress, study time and streak for the current month.
  </p>
  <button onclick="resetMonth()" style="margin-top:20px;padding:12px 26px;border-radius:999px;border:none;font-weight:600;background:#ff4444;color:#fff;">
    Reset Month
  </button>
</div>

<div class="overlay" id="aboutOverlay">
  <div class="modal">
    <h2>About This Website</h2>
    <p>This website is made by <strong>Piyush Pandey</strong> as a disciplined NEET UG study tracker for Dr. SANDHYA PANDEY.</p>
    <button onclick="closeAbout()">Back</button>
  </div>
</div>

<script>
/* ===== TIME ===== */
function getIST(){
  const now=new Date();
  const utc=now.getTime()+now.getTimezoneOffset()*60000;
  return new Date(utc+19800000);
}

function updateTime(){
  const now=getIST();
  timezone.textContent=`Date (IST): ${now.toDateString()}`;
  digitalClock.textContent=`Time (IST): ${now.toLocaleTimeString()}`;

  const midnight=new Date(now); midnight.setHours(24,0,0,0);
  const diff=midnight-now;
  countdown.textContent=
    String(Math.floor(diff/3600000)).padStart(2,'0')+':' +
    String(Math.floor((diff%3600000)/60000)).padStart(2,'0')+':' +
    String(Math.floor((diff%60000)/1000)).padStart(2,'0');
}

/* ===== MENTOR ADVICE ===== */
const adviceList=[
  "Do not plan too much. One honest task is enough.",
  "Consistency creates confidence.",
  "If today feels heavy, reduce the task ‚Äî never skip the day.",
  "Revise more than you read.",
  "Bad days happen. Quit days should not.",
  "Discipline today protects your future rank."
];

function showMentorAdvice(){
  mentorAdvice.textContent=adviceList[Math.floor(Math.random()*adviceList.length)];
}
showMentorAdvice();
setInterval(showMentorAdvice,15000);

/* ===== UI ===== */
function toggleExam(){document.body.classList.toggle('exam');}
function openAbout(){aboutOverlay.style.display='flex';}
function closeAbout(){aboutOverlay.style.display='none';}

/* ===== DAYS (SEQUENTIAL UNLOCK) ===== */
function renderDays(){
  days.innerHTML='';
  const now=getIST();
  const y=now.getFullYear(), m=now.getMonth();
  const daysInMonth=new Date(y,m+1,0).getDate();

  let lastCompleted=0, completed=0;
  for(let d=1;d<=daysInMonth;d++){
    if(localStorage.getItem(`done_${y}_${m}_${d}`)==='true') lastCompleted=d;
  }

  for(let d=1;d<=daysInMonth;d++){
    const tKey=`task_${y}_${m}_${d}`;
    const dKey=`done_${y}_${m}_${d}`;
    const task=localStorage.getItem(tKey)||'';
    const done=localStorage.getItem(dKey)==='true';
    if(done) completed++;

    const unlocked=(d===1)||(d===lastCompleted+1)||done;

    const div=document.createElement('div');
    div.className='day'+(unlocked?'':' locked');
    div.innerHTML=`
      <h2>üìÖ Day ${d}</h2>
      <div class="task-input">
        <input value="${task}" ${(!unlocked||done)?'disabled':''} placeholder="Write your task">
        <button ${(!unlocked||done)?'disabled':''}>${done?'Completed ‚úî':'Mark Done'}</button>
      </div>
      ${done&&task?`<div class="task-done">${task}</div>`:''}
    `;

    const input=div.querySelector('input');
    const btn=div.querySelector('button');

    input?.addEventListener('input',()=>localStorage.setItem(tKey,input.value));
    btn?.addEventListener('click',()=>{
      if(!input.value.trim()) return alert('Write task first');
      localStorage.setItem(dKey,'true');
      renderAll();
    });

    days.appendChild(div);
  }

  progressFill.style.width=Math.round((completed/daysInMonth)*100)+'%';
  streak.textContent=completed+' üî•';
}

/* ===== STUDY TIMER ===== */
let studySeconds=0,studyInterval=null;
function startStudy(){
  if(studyInterval) return;
  studyInterval=setInterval(()=>{
    studySeconds++;
    studyTimer.textContent=new Date(studySeconds*1000).toISOString().substr(11,8);
  },1000);
}
function stopStudy(){
  clearInterval(studyInterval); studyInterval=null;
  const now=getIST();
  const key=`study_${now.getFullYear()}_${now.getMonth()}_${now.getDate()}`;
  localStorage.setItem(key,(+localStorage.getItem(key)||0)+studySeconds);
  studySeconds=0;
  renderStudyGraph();
}

/* ===== POMODORO ===== */
let pomo=1500,pomoInterval=null;
function startPomodoro(){
  if(pomoInterval) return;
  pomoInterval=setInterval(()=>{
    if(--pomo<=0){alert('Pomodoro complete');resetPomodoro();}
    pomodoro.textContent=
      String(Math.floor(pomo/60)).padStart(2,'0')+':' +
      String(pomo%60).padStart(2,'0');
  },1000);
}
function resetPomodoro(){
  clearInterval(pomoInterval); pomoInterval=null;
  pomo=1500; pomodoro.textContent='25:00';
}

/* ===== GRAPH ===== */
function renderStudyGraph(){
  studyGraph.innerHTML='';
  const now=getIST();
  const y=now.getFullYear(), m=now.getMonth();
  const daysInMonth=new Date(y,m+1,0).getDate();

  let max=1, data=[];
  for(let d=1;d<=daysInMonth;d++){
    const v=+localStorage.getItem(`study_${y}_${m}_${d}`)||0;
    data.push(v); if(v>max) max=v;
  }

  data.forEach(v=>{
    const bar=document.createElement('div');
    bar.style.width='8px';
    bar.style.height=(v/max*160)+'px';
    bar.style.background='#00ffb3';
    studyGraph.appendChild(bar);
  });
}

/* ===== CERTIFICATE CHECK ===== */
function checkCertificate(){
  const now=getIST();
  const y=now.getFullYear(), m=now.getMonth();
  const daysInMonth=new Date(y,m+1,0).getDate();
  let completed=0;
  for(let d=1;d<=daysInMonth;d++){
    if(localStorage.getItem(`done_${y}_${m}_${d}`)==='true') completed++;
  }
  if(completed===daysInMonth){
    certificate.style.display='block';
  }
}

function resetMonth(){
  if(!confirm('This will permanently delete all progress for this month. Continue?')) return;
  const now=getIST();
  const y=now.getFullYear(), m=now.getMonth();
  const daysInMonth=new Date(y,m+1,0).getDate();
  for(let d=1;d<=daysInMonth;d++){
    localStorage.removeItem(`task_${y}_${m}_${d}`);
    localStorage.removeItem(`done_${y}_${m}_${d}`);
    localStorage.removeItem(`study_${y}_${m}_${d}`);
  }
  location.reload();
}

function renderAll(){
  renderDays();
  renderStudyGraph();
  checkCertificate();
}

setInterval(updateTime,1000);
renderAll();
</script>

</body>
</html>
